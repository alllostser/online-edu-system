{"version":3,"sources":["webpack:///./src/views/write/upload-video/upload-video.vue?6d3f","webpack:///./src/components/common/submitVideo.vue?cf84","webpack:///./src/components/common/submitImg.vue?fd7a","webpack:///src/components/common/submitImg.vue","webpack:///./src/components/common/submitImg.vue?ec8c","webpack:///./src/components/common/submitImg.vue","webpack:///src/components/common/submitVideo.vue","webpack:///./src/components/common/submitVideo.vue?7c8d","webpack:///./src/components/common/submitVideo.vue","webpack:///src/views/write/upload-video/upload-video.vue","webpack:///./src/views/write/upload-video/upload-video.vue?b381","webpack:///./src/views/write/upload-video/upload-video.vue","webpack:///./src/views/write/upload-video/upload-video.vue?8462","webpack:///./src/components/common/submitVideo.vue?e336","webpack:///./src/components/common/submitImg.vue?ea48"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","ref","attrs","myupload","beforeAvatarUpload","_v","slot","model","value","callback","$$v","textarea1","expression","staticStyle","minRows","maxRows","textarea2","on","handleCommand","_s","type","handleCommand2","quanxain","directives","name","rawName","domProps","$event","target","composing","pay","handleInput","_e","uploading","modifiers","openFullScreen1","handleAvatarSuccess","imageUrl","component"],"mappings":"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","file":"js/chunk-24820074.8250b173.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('submit-video')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-upload',{ref:\"my\",staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"auto-upload\":false,\"http-request\":_vm.myupload,\"before-upload\":_vm.beforeAvatarUpload,\"multiple\":\"\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"视频不能超过500M\")])]),_c('submit-img',{ref:\"submitImg\",staticClass:\"img\"}),_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":\"\",\"placeholder\":\"请输入视频名字\"},model:{value:(_vm.textarea1),callback:function ($$v) {_vm.textarea1=$$v},expression:\"textarea1\"}}),_c('div',{staticStyle:{\"margin\":\"20px 0\"}}),_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 2, maxRows: 4},\"placeholder\":\"请输入视频描述\"},model:{value:(_vm.textarea2),callback:function ($$v) {_vm.textarea2=$$v},expression:\"textarea2\"}}),_c('div',{staticClass:\"videoType\"},[_c('el-dropdown',{staticClass:\"type\",on:{\"command\":_vm.handleCommand}},[_c('el-button',{attrs:{\"type\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.type)),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"java\"}},[_vm._v(\"java\")]),_c('el-dropdown-item',{attrs:{\"command\":\"web\"}},[_vm._v(\"web\")]),_c('el-dropdown-item',{attrs:{\"command\":\"python\"}},[_vm._v(\"python\")]),_c('el-dropdown-item',{attrs:{\"command\":\"C/C++\"}},[_vm._v(\"C/C++\")]),_c('el-dropdown-item',{attrs:{\"command\":\"其他\"}},[_vm._v(\"其他\")])],1)],1)],1),_c('div',{staticClass:\"paywidth\"},[_c('el-dropdown',{staticClass:\"type\",on:{\"command\":_vm.handleCommand2}},[_c('el-button',{attrs:{\"type\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.quanxain)),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"0\"}},[_vm._v(\"免费\")]),_c('el-dropdown-item',{attrs:{\"command\":\"1\"}},[_vm._v(\"VIP\")]),_c('el-dropdown-item',{attrs:{\"command\":\"2\"}},[_vm._v(\"收费\")])],1)],1)],1),(_vm.showPay)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pay),expression:\"pay\"}],staticClass:\"inputPay\",attrs:{\"type\":\"text\",\"placeholder\":\"输入视频价格\"},domProps:{\"value\":(_vm.pay)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.pay=$event.target.value},_vm.handleInput]}}):_vm._e(),_c('el-button',{staticClass:\"submit\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.uploading}},[_vm._v(\"提交\")]),_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.isUpLoading),expression:\"isUpLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticStyle:{\"position\":\"fixed\",\"left\":\"-1000px\"},attrs:{\"element-loading-text\":\"上传中\"},on:{\"click\":_vm.openFullScreen1}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-upload',{ref:\"my\",staticClass:\"avatar-uploader\",attrs:{\"http-request\":_vm.myupload,\"action\":\"\",\"auto-upload\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload,\"name\":\"file\",\"limit\":\"1\"}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"id\":\"showHead\",\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"上传视频封面图片\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg文件，且不超过2m\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n    <div>\r\n        <el-upload\r\n                class=\"avatar-uploader\"\r\n                :http-request=\"myupload\"\r\n                action\r\n                :auto-upload=\"false\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                :before-upload=\"beforeAvatarUpload\"\r\n                name=\"file\"\r\n                ref=\"my\"\r\n                limit=\"1\"\r\n        >\r\n            <img id=\"showHead\"  v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\r\n            <i  v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\r\n        </el-upload>\r\n        <div slot=\"tip\" class=\"el-upload__tip\">上传视频封面图片</div>\r\n        <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg文件，且不超过2m</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {request} from \"../../network/request\";\r\n\r\n    export default {\r\n        name: \"submitImg\",\r\n        data() {\r\n            return {\r\n                imageUrl: '',\r\n                Existence:false\r\n            };\r\n        },\r\n        methods: {\r\n            remind(){\r\n                alert();\r\n            },\r\n            handleAvatarSuccess(res, file) {\r\n                // alert();\r\n                console.log(this.imageUrl);\r\n                this.imageUrl = URL.createObjectURL(file.raw);\r\n            },\r\n            beforeAvatarUpload(file) {\r\n                //  alert();\r\n                if(this.existence){\r\n                    this.$message.error('不能重复上传');\r\n                    return false;\r\n                }\r\n                this.existence = true;\r\n                const isJPG = file.type === 'image/jpeg';\r\n                const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n                if (!isJPG) {\r\n                    this.$message.error('上传头像图片只能是 JPG 格式!');\r\n                }\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                }\r\n                return isJPG && isLt2M;\r\n            },\r\n            uploading(){\r\n                this.$refs.my.submit()\r\n            },\r\n            myupload(content){\r\n                //console.log(content.file)\r\n                let myformData = new FormData()\r\n                myformData.append('file',content.file);\r\n                request({\r\n                    url:\"/justUplodImg\",\r\n                    method: \"post\",\r\n                    data:myformData\r\n\r\n                }).then(res=>{\r\n                    console.log(res.data);\r\n                    sessionStorage.setItem(\"videoImgUrl\", res.data);\r\n                    this.imageUrl = res.data;\r\n                }).catch(err=>{\r\n                    //alert(err);\r\n                    console.log(err);\r\n                });\r\n\r\n            }\r\n        },\r\n        mounted() {\r\n            document.getElementsByClassName(\".el-upload\")[0].style.border = \"1px dashed #d9d9d9\";\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .avatar-uploader {\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n        background-color: #fff;\r\n        width: 180px;\r\n    }\r\n    .avatar-uploader:hover {\r\n        border-color: #409EFF;\r\n    }\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 178px;\r\n        height: 178px;\r\n        line-height: 178px;\r\n        text-align: center;\r\n    }\r\n    .avatar {\r\n        width: 178px;\r\n        height: 178px;\r\n        display: block;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./submitImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./submitImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./submitImg.vue?vue&type=template&id=5320b6e8&scoped=true&\"\nimport script from \"./submitImg.vue?vue&type=script&lang=js&\"\nexport * from \"./submitImg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./submitImg.vue?vue&type=style&index=0&id=5320b6e8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5320b6e8\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <el-upload\r\n                class=\"upload-demo\"\r\n                drag\r\n                :auto-upload=\"false\"\r\n                :http-request=\"myupload\"\r\n                :before-upload=\"beforeAvatarUpload\"\r\n                ref=\"my\"\r\n                multiple>\r\n            <i class=\"el-icon-upload\"></i>\r\n            <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n            <div class=\"el-upload__tip\" slot=\"tip\">视频不能超过500M</div>\r\n        </el-upload>\r\n        <submit-img class=\"img\" ref=\"submitImg\"></submit-img>\r\n\r\n        <el-input\r\n                type=\"textarea\"\r\n                autosize\r\n                placeholder=\"请输入视频名字\"\r\n                v-model=\"textarea1\">\r\n        </el-input>\r\n        <div style=\"margin: 20px 0;\"></div>\r\n        <el-input\r\n                type=\"textarea\"\r\n                :autosize=\"{ minRows: 2, maxRows: 4}\"\r\n                placeholder=\"请输入视频描述\"\r\n                v-model=\"textarea2\">\r\n        </el-input>\r\n        <div class=\"videoType\">\r\n            <el-dropdown @command=\"handleCommand\" class=\"type\">\r\n                <el-button type=\"info\">\r\n                    {{type}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </el-button>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item command=\"java\">java</el-dropdown-item>\r\n                    <el-dropdown-item command=\"web\">web</el-dropdown-item>\r\n                    <el-dropdown-item command=\"python\">python</el-dropdown-item>\r\n                    <el-dropdown-item command=\"C/C++\">C/C++</el-dropdown-item>\r\n                    <el-dropdown-item command=\"其他\">其他</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n            </el-dropdown>\r\n        </div>\r\n\r\n        <div class=\"paywidth\">\r\n            <el-dropdown @command=\"handleCommand2\" class=\"type\">\r\n                <el-button type=\"info\">\r\n                    {{quanxain}}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </el-button>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item command=\"0\">免费</el-dropdown-item>\r\n                    <el-dropdown-item command=\"1\">VIP</el-dropdown-item>\r\n                    <el-dropdown-item command=\"2\">收费</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n            </el-dropdown>\r\n        </div>\r\n        <input type=\"text\"  class=\"inputPay\"  @input=\"handleInput\" v-model=\"pay\" placeholder=\"输入视频价格\" v-if=\"showPay\">\r\n        <el-button class=\"submit\" type=\"primary\" @click=\"uploading\">提交</el-button>\r\n        <el-button\r\n                style=\"position: fixed; left: -1000px\"\r\n                @click=\"openFullScreen1\"\r\n                v-loading.fullscreen.lock=\"isUpLoading\"\r\n                element-loading-text=\"上传中\"\r\n                >\r\n        </el-button>\r\n    </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\n    import {request} from \"../../network/request\";\r\n    import submitImg from \"./submitImg\";\r\n    export default {\r\n        name: \"submitVideo\",\r\n        data() {\r\n            return {\r\n                textarea1: '',\r\n                textarea2: '',\r\n                type:\"选择视频分类\",\r\n                size : 0,\r\n                quanxain:\"选择视频权限\",\r\n                quanxianmsg:[\"免费\", \"vip视频\", \"收费视频\"],\r\n                showPay:false,\r\n                pay:'',\r\n                jur:0,\r\n                isUpLoading: false\r\n            };\r\n        },\r\n        methods: {\r\n            openFullScreen1() {\r\n                this.fullscreenLoading = true;\r\n                setTimeout(() => {\r\n                    this.fullscreenLoading = false;\r\n                }, 2000);\r\n            },\r\n            handleInput(e){\r\n                this.pay = e.target.value.replace(/[^\\d]/g,'');\r\n\r\n            },\r\n            handleCommand(command) {\r\n                console.log(command);\r\n                this.type = command;\r\n            },\r\n            handleCommand2(command){\r\n                this.quanxain = this.quanxianmsg[command];\r\n                this.jur = command;\r\n                if(command == 2){\r\n                    this.showPay = true;\r\n                }else{\r\n                    this.showPanelColor = false;\r\n                }\r\n            },\r\n            uploadReady(){\r\n                this.$refs.submitImg.uploading();\r\n                let k = this;\r\n                setTimeout(function () {\r\n                   // console.log(sessionStorage.getItem(\"videoImgUrl\"));\r\n                    k.$refs.my.submit();\r\n                }, 1000)\r\n\r\n            },\r\n            uploading() {\r\n               if(this.textarea1 == '' || this.textarea2 == ''){\r\n                   this.$message.error(\"输入内容不能为空\");\r\n               }else if(this.type == \"选择视频分类\"){\r\n                   this.$message.error(\"选择视频分类\");\r\n               }else{\r\n                   this.uploadReady();\r\n               }\r\n\r\n            },\r\n            myupload(content) {\r\n                //console.log(content.file)\r\n                let myformData = new FormData()\r\n                let id = parseInt(sessionStorage.getItem(\"userId\"));\r\n                let time = new Date().getFullYear() + \"-\" + (new Date().getMonth() + 1) + \"-\" + new Date().getDate() + \" \" + new Date().getHours() +'时' + new Date().getMinutes()+\"分\";\r\n                let userName = sessionStorage.getItem(\"nickName\");\r\n                let size = this.size;\r\n                let type = this.type;\r\n                let des = this.textarea2;\r\n                let name = this.textarea1;\r\n                let imgUrl = sessionStorage.getItem(\"videoImgUrl\");\r\n                let pay = this.pay;\r\n                if(this.pay == '') {\r\n                    pay = 0\r\n                }else{\r\n                    pay = parseInt(this.pay);\r\n                }\r\n                size = Math.floor(size);\r\n                myformData.append('file', content.file);\r\n                myformData.append(\"userName\", userName);\r\n                myformData.append(\"size\", size);\r\n                myformData.append(\"type\", type);\r\n                myformData.append(\"time\", time);\r\n                myformData.append(\"des\", des);\r\n                myformData.append(\"name\", name);\r\n                myformData.append(\"imgUrl\", imgUrl);\r\n                myformData.append(\"id\", id);\r\n                myformData.append(\"jur\", parseInt(this.jur));\r\n                myformData.append(\"pay\", pay);\r\n                this.isUpLoading = true;\r\n                request({\r\n                    url: \"/fileUploadVideo\",\r\n                    method: \"post\",\r\n                    data: myformData,\r\n\r\n                }).then(res => {\r\n                    this.isUpLoading = false;\r\n                    console.log(res.data);\r\n                    this.$message({\r\n                        message: '上传成功， 马上进行页面跳转',\r\n                        type: 'success'\r\n                    });\r\n                    let k = this;\r\n                    setTimeout(function () {\r\n                        k.$router.replace(\"/video\");\r\n                    }, 3000)\r\n\r\n                }).catch(err => {\r\n                    //alert(err);\r\n                    console.log(err);\r\n                });\r\n            },\r\n            beforeAvatarUpload(file) {\r\n                const isLt2M = file.size / 1024 / 1024 < 500;\r\n                this.size = file.size / 1024 / 1024;\r\n                if (!isLt2M) {\r\n                    this.$message.error('上传视频大小不能超过 500MB!');\r\n                }\r\n                return isLt2M;\r\n            },\r\n\r\n        },\r\n        components:{\r\n            submitImg\r\n        },\r\n        created() {\r\n\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .paywidth{\r\n        width: 150px;\r\n        display: inline-block;\r\n    }\r\n    .inputPay{\r\n        position: absolute;\r\n        margin-left: 10px;\r\n        margin-top: 20px;\r\n        border: 1px solid #9c9c9c;\r\n        height: 40px;\r\n        border-radius: 5px;\r\n        padding-left: 5px;\r\n    }\r\n    .inputPay:focus{\r\n        border-color: #00b0ff;\r\n        outline: none;\r\n    }\r\n    .videoType{\r\n        width: 150px;\r\n        display: inline-block;\r\n    }\r\n    .el-dropdown {\r\n        vertical-align: top;\r\n    }\r\n    .el-dropdown + .el-dropdown {\r\n        margin-left: 15px;\r\n    }\r\n    .el-icon-arrow-down {\r\n        font-size: 12px;\r\n    }\r\n    .submit{\r\n        margin-top: 20px;\r\n        display: block;\r\n    }\r\n    .img{\r\n        margin-top: 20px;\r\n        margin-bottom: 20px;\r\n    }\r\n    .upload-demo{\r\n        margin-top: 20px;\r\n    }\r\n\r\n    .type{\r\n        margin-top: 20px;\r\n    }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./submitVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./submitVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./submitVideo.vue?vue&type=template&id=6297334e&scoped=true&\"\nimport script from \"./submitVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./submitVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./submitVideo.vue?vue&type=style&index=0&id=6297334e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6297334e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"box\">\r\n      <submit-video></submit-video>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import submitVideo from \"../../../components/common/submitVideo\";\r\n    export default {\r\n        name: \"upload-video\",\r\n        components:{\r\n            submitVideo\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .box{\r\n        width: 600px;\r\n        margin: 0 auto;\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-video.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload-video.vue?vue&type=template&id=4436a540&scoped=true&\"\nimport script from \"./upload-video.vue?vue&type=script&lang=js&\"\nexport * from \"./upload-video.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload-video.vue?vue&type=style&index=0&id=4436a540&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4436a540\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload-video.vue?vue&type=style&index=0&id=4436a540&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./submitVideo.vue?vue&type=style&index=0&id=6297334e&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./submitImg.vue?vue&type=style&index=0&id=5320b6e8&scoped=true&lang=css&\""],"sourceRoot":""}