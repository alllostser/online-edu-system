(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55143624"],{"18bf":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"100%",height:"100%","min-height":"1800px","background-color":"#fff"}},[s("div",{staticClass:"bigbox",staticStyle:{width:"1200px",margin:"0 auto"}},[s("div",[s("div",{staticStyle:{display:"block"}},[s("span",{staticClass:"biaoqian"},[t._v("原创作品")]),s("h1",[t._v(t._s(t.name))])]),s("div",{staticClass:"litteBiaoQian"},[t._v(" "+t._s(t.views)+" 播放量 ")]),s("div",{staticClass:"litteBiaoQian",staticStyle:{"margin-left":"20px",width:"500px"}},[t._v(" "+t._s(t.video.time)+" ")])]),s("video-play-item",{staticClass:"player",attrs:{url:t.url}}),s("div",{staticClass:"plNum"},[s("div",[s("span",{staticClass:"plNum2"},[t._v(" "+t._s(t.total)+" ")]),s("span",[t._v("条评论")]),s("span",{staticClass:"liuyan"},[t._v("在这里留下你精彩的评论吧 ！！！")])])]),s("div",{staticClass:"plInput"},[s("div",{staticClass:"myHeadImg"},[s("img",{attrs:{src:t.myHeadImg,alt:""}})]),s("el-input",{staticStyle:{width:"700px"},attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),s("el-button",{staticClass:"subBtn",attrs:{type:"primary"},on:{click:t.submitComment}},[t._v("提交评论")]),s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"success"},on:{click:t.qiandao}},[t._v("签到")])],1),t._m(0),s("div",{staticClass:"plBox"},t._l(t.comments,(function(e){return s("div",{staticClass:"plItem"},[s("div",{staticClass:"plheadName"},[s("span",{staticClass:"name"},[t._v(t._s(e.realName))]),s("span",{staticClass:"time"},[t._v(t._s(e.commentTime))])]),s("div",{staticClass:"plText"},[t._v(" "+t._s(e.commentContent)+" ")])])})),0),s("div",{staticClass:"right-list"},[s("div",{staticClass:"video-list"},[s("div",{staticClass:"list-head"},[t._v(" 视频选集 "),s("svg",{staticClass:"icon",staticStyle:{width:"30px",height:"30px",position:"absolute",top:"-8px",left:"105px",cursor:"pointer"},attrs:{t:"1612264506803",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2158",width:"200",height:"200"}},[s("path",{attrs:{d:"M233.184 263.16c-22.936 0-43.448 20.512-43.448 43.448s20.512 42.24 43.448 42.24c22.928 0 42.24-19.312 42.24-42.24s-19.312-43.448-42.24-43.448zM865.336 306c0 18.776-13.68 34-30.544 34H370.72c-16.864 0-30.536-15.224-30.536-34S353.856 272 370.72 272h464.072c16.864 0 30.544 15.224 30.544 34zM233.184 472.496c-22.936 0-43.448 20.512-43.448 43.448s20.512 42.24 43.448 42.24c22.928 0 42.24-19.312 42.24-42.24s-19.312-43.448-42.24-43.448zM865.336 515.336c0 18.776-13.68 34-30.544 34H370.72c-16.864 0-30.536-15.224-30.536-34 0-18.784 13.672-34 30.536-34h464.072c16.864 0 30.544 15.216 30.544 34z","p-id":"2159",fill:"#707070"}}),s("path",{attrs:{d:"M233.184 681.832c-22.936 0-43.448 20.512-43.448 43.448s20.512 42.24 43.448 42.24c22.928 0 42.24-19.312 42.24-42.24s-19.312-43.448-42.24-43.448zM865.336 724.672c0 18.776-13.68 34-30.544 34H370.72c-16.864 0-30.536-15.224-30.536-34 0-18.784 13.672-34 30.536-34h464.072c16.864 0 30.544 15.216 30.544 34z","p-id":"2160",fill:"#707070"}})])]),s("ul",t._l(t.listnames,(function(e,i){return s("li",{staticClass:"active",on:{click:function(e){return t.changeVideo(i)}}},[t._v(" "+t._s(e.chapterName))])})),0)])])],1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ul",{staticClass:"pl-type"},[s("li",{staticClass:"pl-active"},[t._v("按热度排序")])])])}],o=(s("b0c0"),s("ac1f"),s("5319"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"demo"},[s("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:t.playerOptions}})],1)}),a=[],r={name:"video",data:function(){return{playerOptions:{playbackRates:[.5,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"video/mp4",src:"this.url"}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},props:["url"],watch:{url:function(t){console.log("url",t),this.playerOptions.sources[0].src=t,this.$forceupdate()}}},c=r,l=s("2877"),u=Object(l["a"])(c,o,a,!1,null,"0be47f22",null),d=u.exports,m=s("1bab"),p=(s("60fe"),{insertOneNotify:function(t,e,s,i,n,o,a,r,c,l,u){var d;return Object(m["a"])({url:"/insertOneSysNotify",method:"get",params:{userId:t,sendId:e,msg:s,pl:i,time:n,nickName:o,imgUrl:a,state:r,type:c,id:l,videoImg:u}}).then((function(t){d=t.data,console.log(t.data)})).catch((function(t){console.log(t)})),d},addOneView:function(t){return Object(m["a"])({url:"/addOneView",method:"post",params:{id:t}})}}),h=s("c24f"),g={name:"video-play",data:function(){return{danmu:"开启弹幕",value2:"",textarea:"",url:"",id:this.$route.query.id,name:this.$route.query.name,collection:parseInt(this.$route.query.collection),views:"",size:this.$route.query.size,time:this.$route.query.time,upId:this.$route.query.courseId,upName:this.$route.query.upName,des:this.$route.query.des,point:parseInt(this.$route.query.point),pl:50,isPoint:0,isCollection:0,myHeadImg:sessionStorage.getItem("imgUrl"),comments:[],SendPoint:!0,sendCollection:!0,userId:sessionStorage.getItem("userId"),remen:[],video:[],listnames:[],total:"",courseId:""}},components:{videoPlayItem:d},created:function(){var t=this;this.listByCourseId(),Object(h["g"])(this.id).then((function(e){t.url=e.data.data.chapterList[0].videoUrl,t.listnames=e.data.data.chapterList})),Object(m["a"])({url:"/addOneView",method:"post",params:{id:parseInt(this.$route.query.id)}}).then((function(e){t.views=e.data.views,t.point=e.data.point,t.collection=e.data.collection})).catch((function(t){console.log(t)})),Object(m["a"])({url:"/getVideoList",method:"get",params:{}}).then((function(e){t.remen=e.data})).catch((function(t){console.log(t)})),console.log(this.$route.query.id)},methods:{qiandao:function(){var t=this,e={courseId:this.id,userId:sessionStorage.getItem("id")};Object(h["b"])(e).then((function(e){0===e.data.code&&(t.$message.success("签到成功"),sessionStorage.setItem("code","0"))}))},a:function(){console.log(this.url)},listByCourseId:function(){var t=this;Object(h["h"])(this.id).then((function(e){t.comments=e.data.data.records,t.total=e.data.data.total}))},changeVideo:function(t){this.url=this.listnames[t].videoUrl},changePage:function(t){var e=this;p.addOneView(t).then((function(t){console.log(t.data);var s=t.data;e.$router.push({path:"/videoPlay",query:{url:s.url,name:s.name,point:s.point,views:s.views,collection:s.collection,id:s.id,size:s.size,upId:s.upId,upName:s.upName,des:s.des,imgUrl:s.imgUrl,time:s.time}}),location.reload()}))},getImgHead:function(t,e){var s=this;Object(m["a"])({url:"/getImgUrl",method:"post",params:{userId:e}}).then((function(e){s.comment[t].imgUrl=e.data,console.log(e.data)})).catch((function(t){console.log(t)}))},addPoint:function(){if(null==this.userId&&this.$router.replace("/login"),0==this.isPoint?(this.point+=1,document.getElementById("point").style.color="#00b0ff"):(document.getElementById("point").style.color="black",this.point-=1),this.isPoint^=1,Object(m["a"])({url:"/addOnePoint",method:"post",params:{id:parseInt(this.$route.query.id)}}).then((function(t){})).catch((function(t){console.log(t)})),this.SendPoint){this.SendPoint=!1;var t=sessionStorage.getItem("userId"),e=(parseInt(this.id),sessionStorage.getItem("nickName")),s=(new Date).getFullYear()+"年"+((new Date).getMonth()+1)+"月"+(new Date).getDate()+"日";console.log(this.$route.query.imgUrl),Object(m["a"])({url:"/insertOneSysNotify",method:"get",params:{userId:parseInt(this.upId),sendId:parseInt(t),msg:"给我的视频点了一个赞",pl:"",time:s,nickName:e,imgUrl:sessionStorage.getItem("imgUrl"),state:0,type:"video",id:this.id,videoImg:this.$route.query.imgUrl}}).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))}},addCollection:function(){if(null==this.userId&&this.$router.replace("/login"),0==this.isCollection?(this.collection+=1,document.getElementById("collection").style.color="#00b0ff"):(document.getElementById("collection").style.color="black",this.collection-=1),this.isCollection^=1,Object(m["a"])({url:"/addOneCollection",method:"post",params:{userId:parseInt(sessionStorage.getItem("userId")),id:parseInt(this.$route.query.id)}}).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)})),this.sendCollection){this.sendCollection=!1;var t=sessionStorage.getItem("userId"),e=(parseInt(this.id),sessionStorage.getItem("nickName")),s=(new Date).getFullYear()+"年"+((new Date).getMonth()+1)+"月"+(new Date).getDate()+"日";Object(m["a"])({url:"/insertOneSysNotify",method:"get",params:{userId:parseInt(this.upId),sendId:parseInt(t),msg:"收藏了我的视频",pl:"",time:s,nickName:e,imgUrl:sessionStorage.getItem("imgUrl"),state:0,type:"video",id:this.id,videoImg:this.$route.query.imgUrl}}).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)}))}},submitComment:function(){var t=this;null==sessionStorage.getItem("username")&&this.$router.replace("/login");var e=sessionStorage.getItem("id"),s={commentContent:this.textarea,userId:e,courseId:this.id};Object(h["e"])(s).then((function(e){0===e.data.code&&(t.listByCourseId(),t.$message.success("评论成功"))}));var i=sessionStorage.getItem("userId"),n=parseInt(this.id),o=sessionStorage.getItem("nickName"),a=(new Date).getFullYear()+"年"+((new Date).getMonth()+1)+"月"+(new Date).getDate()+"日",r={msg:this.textarea,videoId:n,userId:i,nickName:o,imgUrl:this.myHeadImg,time:a};this.comment.unshift(r),Object(m["a"])({url:"/insertOneSysNotify",method:"get",params:{userId:parseInt(this.upId),sendId:parseInt(i),msg:"评论了我的视频",pl:this.textarea,time:a,nickName:o,imgUrl:sessionStorage.getItem("imgUrl"),state:0,type:"video",id:this.id,videoImg:this.$route.query.imgUrl}}).then((function(t){console.log(t.data)})).catch((function(t){console.log(t)})),this.textarea=""}}},f=g,v=(s("d59a"),Object(l["a"])(f,i,n,!1,null,"43a2c564",null));e["default"]=v.exports},"2f09":function(t,e,s){},c24f:function(t,e,s){"use strict";s.d(e,"i",(function(){return l})),s.d(e,"c",(function(){return u})),s.d(e,"j",(function(){return d})),s.d(e,"g",(function(){return m})),s.d(e,"a",(function(){return p})),s.d(e,"e",(function(){return h})),s.d(e,"h",(function(){return g})),s.d(e,"d",(function(){return f})),s.d(e,"f",(function(){return v})),s.d(e,"b",(function(){return I}));var i=s("bc3a"),n=s.n(i),o=n.a.create({baseURL:"",timeout:3e4}),a=o,r="",c=r;function l(t){return a({url:c+"/banner/display",method:"get"})}function u(){return a({url:c+"/course/list",method:"get"})}function d(){return a({url:c+"/course/list",method:"get",params:{orderBy:"date"}})}function m(t){return a({url:c+"/course/getCourseInfo",method:"get",params:{courseId:t}})}function p(t,e){return a({url:c+"/login",method:"post",params:{username:t,password:e}})}function h(t){return a({url:c+"/edu-comment/comment",method:"post",data:t})}function g(t){return a({url:c+"/edu-comment/listByCourseId",method:"get",params:{courseId:t}})}function f(t){return a({url:c+"/edu-notice/list",method:"get",params:t})}function v(t){return a({url:c+"/edu-leaven-msg/insert",method:"post",data:t})}function I(t){return a({url:c+"/course-item/signed",method:"post",data:t})}},d59a:function(t,e,s){"use strict";s("2f09")}}]);
//# sourceMappingURL=chunk-55143624.2f2ec107.js.map